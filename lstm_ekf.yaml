# Config file specifying application/domain specific commands and scripts
variables:
    solr-host: 
        - 127.0.0.1
    cassandra-host: 
        - 127.0.0.1
    application-host: 127.0.0.1
    db-host: 127.0.0.1
    search-host: 127.0.0.1
    lqn-model: '/home/user/woodside/lstm_ekf/testbed.lqn'
    solr-url: 'https://<search-host>:8983/solr'
    application-url: 'http://127.0.0.1:8878'
    cassandra-home: '/home/user/woodside/apache-cassandra-3.11.2'


provision-cmds: 
    solr: "curl '<application-url>/addsearchendpoint'"
    db: "curl '<application-url>/adddbendpoint'"

deprovision-cmds: 
    solr: "curl '<application-url>/removesearchendpoint'"
    db: "curl '<application-url>/removedbendpoint'"


search-endpoint: "http://<application-host>:8878/searchremote?q=*:*"

db-endpoint: "http://<application-host>:8878/fetchremote?q="

db-endpoint2: "http://<application-host>:8878/fetchRemote?q="

login-34.219.25.234: "ssh -i 'mykeys.pem' user@<application-host>"

login-35.163.251.91: "ssh -i 'mykeys.pem' user@<db-host>"

login-52.89.137.96: "ssh -i 'mykeys.pem' user@<search-host>"

memory-cmd-<application-host>: "top -b -n 1 -a"

activity-cmd: "python src/test_app.py"

lqn-out: "system.lqn.out"

lqn-range: [50,20]

lqn-noise-factor: [2,0.2,0.2,0.1,0.2,0.00002,0.2]

lqn-tasks:
        - nSearch: 1
        - nDb: 1

lqn-thresholds: 
        - upper: 0.9
        - upper: 0.9
        - upper: 0.9

lqn-hosts:
        - "<search-host>"
        - "<db-host>"
        - "<application-host>"


lqn-provision-actions:
        - "curl '<application-url>/addsearchendpoint'"
        - "curl '<application-url>/adddbendpoint'"


lqn-deprovision-actions:
        - "curl '<application-url>/removesearchendpoint'"
        - "curl '<application-url>/removedbendpoint'"


model-update-cmd: "sed -i 's/<param0>\\s*=\\s*\\[[0-9,\\. ]*\\]/<param0> = <param1>/' <lqn-model>"

model-solve-cmd: "wine lqns <lqn-model>"
